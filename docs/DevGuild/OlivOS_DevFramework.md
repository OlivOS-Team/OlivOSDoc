# 程序框架

## 组件框架
`OlivOS`基于并行多组件的消息队列通信机制进行开发，基本架构如下。

```

                        *=================================*
                        |                                 | -------------- ...
                        |                                 |
                        |                                 | -------------- ...
     *--control_queue-> |      OlivOS.BootAPI.Entity      |
     |                  |                                 | -------------*
     |                  |                                 |              |
     |                  |                                 | -----------* |
...  |                  *=================================*            | |
 |   |                                                                 | |
 | <-+---logger_queue-- *=================================*            | |
 |   |                  | OlivOS.pluginAPI.shallow        | <-rx_queue-* |
 |   | <---tx_queue---- *=================================*              |
 |   |                                                                   |
 | <-+---logger_queue-- *=================================*              |
 |   |                  | OlivOS.nativeWinUIAPI.dock      | <-rx_queue---*
 |   | <---tx_queue---- *=================================*
 |   |
 | <-+---logger_queue-- *=================================*
 |   |                  | OlivOS.dodoLinkServerAPI.server | <-rx_queue---- ...
 |   | <---tx_queue---- *=================================*
 |   |
 | <-+---logger_queue-- *=================================*
 |   |                  | OlivOS.flaskServerAPI.server    | <-rx_queue---- ...
 |   | <---tx_queue---- *=================================*
 |   |
 |   |                   ... ...
 |   |
 *---+-----rx_queue---> *=================================*
     |                  | OlivOS.diagnoseAPI.logger       |
     | <---tx_queue---- *=================================*
     |
    ...

```

## 插件架构
`OlivOS`的插件架构拥有完整的事件抽象，可以基于事件完成接口的调用。

```

  *==============================================*
  |                                              |
  |                Cloud Platform                |
  |                                              |
  *==============================================*
     |                                        Ʌ
     |                                        |
     |                                        |
     |                                        |
     |     *===========*    *===========*     |
     |     |           |    |           |     |
     |     | Adapter A |    | Adapter B |     |
     |     |           |    |           |     |
     |     *===========*    *===========*     |
     |                                        |
     |     *============================*     |
     |     |                            |     |
     |     |         Adapter  C         |     |
     |     |                            |     |
     *-----|--> *======*    *======* ---|-----*
           |    |  RX  |    |  TX  |    |
     *-----|--- *======*    *======* <--|-----*
     |     |                            |     |
     |     *============================*     |
     |                                        |
     |                 ......                 |
     |                                        |
     |                                        |
     |  *==================================*  |
     |  |                                  |  |
     |  |       *==================*       |  |
     |  |       |                  | ------|--*
     |  |       |    TX  Router    |       |
     |  |       |                  | <--*  |
     |  |       *==================*    |  |
     |  |                               |  |
     |  |        OlivOS.API.Event       |  |
     |  |                               |  |
     |  *==================================*
     |                   |              |
     |                   |              |
     |  *==================================*
     |  |                |              |  |
     |  |                V              |  |
     |  |       *==================*    |  |
     *--|-----> |                  |    |  |
        |       |    RX  Router    |    |  |
        |  *--- |                  |    |  |
        |  |    *==================*    |  |
        |  |                            |  |
        |  |                            |  |
        |  |  OlivOS.pluginAPI.shallow  |  |
        |  |                            |  |
        |  |                            |  |
        |  |        *==========*        |  |
        |  | -----> | plugin A |        |  |
        |  |        *==========*        |  |
        |  |                            |  |
        |  |        *==========*        |  |
        |  | -----> | plugin B | -------*  |
        |  |        *==========*           |
        |  |                               |
        |  |        *==========*           |
        |  | -----> | plugin C |           |
        |  |        *==========*           |
        |  |                               |
        |  |          ...  ...             |
        |  V                               |
        |                                  |
        *==================================*

```
